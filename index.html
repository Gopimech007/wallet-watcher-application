<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wallet Watcher - Smart Money Management</title>
    <meta name="description" content="Track your monthly budget, EMIs, savings, and loans with Wallet Watcher">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <!-- Mobile Header (visible only on mobile) -->
    <header class="mobile-header">
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <h1 class="mobile-title">Wallet Watcher</h1>
    </header>

    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <circle cx="16" cy="16" r="14" fill="url(#gradient1)" />
                        <path d="M16 8v16M12 12l4-4 4 4M12 20l4 4 4-4" stroke="white" stroke-width="2"
                            stroke-linecap="round" />
                        <defs>
                            <linearGradient id="gradient1" x1="0" y1="0" x2="32" y2="32">
                                <stop offset="0%" style="stop-color:#667eea" />
                                <stop offset="100%" style="stop-color:#764ba2" />
                            </linearGradient>
                        </defs>
                    </svg>
                    <h1>Wallet Watcher</h1>
                </div>
                <button class="sidebar-close" id="sidebarClose">×</button>
            </div>
            <nav class="nav-menu">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path
                            d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" />
                    </svg>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-page="budget">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z" />
                        <path fill-rule="evenodd"
                            d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Monthly Budget</span>
                </a>
                <a href="#" class="nav-item" data-page="annual">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Annual Planner</span>
                </a>
                <a href="#" class="nav-item" data-page="loans">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Loan Tracker</span>
                </a>
                <a href="#" class="nav-item" data-page="compare">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path
                            d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z" />
                    </svg>
                    <span>Compare Months</span>
                </a>
                <a href="#" class="nav-item" data-page="trends">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd"
                            d="M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z"
                            clip-rule="evenodd" />
                    </svg>
                    <span>Trends</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div class="page active" id="dashboard-page">
                <div class="page-header">
                    <h2>Dashboard</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary" id="archiveMonth">Archive Month</button>
                        <button class="btn btn-success" id="createNewMonth">Create New Month</button>
                        <button class="btn btn-secondary" id="resetMonth">Reset Month</button>
                        <button class="btn btn-primary" id="exportData">Export CSV</button>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="stat-card income-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>Monthly Salary</h3>
                            <p class="stat-value" id="dashSalary">₹0</p>
                        </div>
                    </div>

                    <div class="stat-card emi-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zm-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm13-6v11c0 1.1-.9 2-2 2H4v-2h17V7h2z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>Total EMIs</h3>
                            <p class="stat-value" id="dashEMI">₹0</p>
                        </div>
                    </div>

                    <div class="stat-card expense-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>Living Expenses</h3>
                            <p class="stat-value" id="dashLiving">₹0</p>
                        </div>
                    </div>

                    <div class="stat-card family-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>Family & Projects</h3>
                            <p class="stat-value" id="dashFamily">₹0</p>
                        </div>
                    </div>

                    <div class="stat-card savings-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M19.83 7.5l-2.27-2.27c.07-.42.18-.81.32-1.15.08-.18.12-.37.12-.58 0-.83-.67-1.5-1.5-1.5-1.64 0-3.09.79-4 2h-5C4.46 4 2 6.46 2 9.5S4.5 21 4.5 21H10v-2h2v2h5.5s2.5-1.84 2.5-4.5c0-1.48-.81-2.75-2-3.45V7.5h1.83zM12 9c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>Savings / Funds</h3>
                            <p class="stat-value" id="dashSavings">₹0</p>
                        </div>
                    </div>

                    <div class="stat-card balance-card">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z" />
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h3>Remaining Balance</h3>
                            <p class="stat-value balance-value" id="dashBalance">₹0</p>
                        </div>
                    </div>

                    <div class="stat-card" style="grid-column: span 2;">
                        <div class="stat-content" style="width: 100%;">
                            <h3>Month-over-Month Comparison</h3>
                            <div id="monthComparison" style="margin-top: 0.5rem;">Loading...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Monthly Budget Page -->
            <div class="page" id="budget-page">
                <div class="page-header">
                    <h2>Monthly Budget</h2>
                    <div class="header-actions">
                        <button class="btn btn-primary" id="saveBudget">Save Budget</button>
                    </div>
                </div>

                <div class="budget-container">
                    <div class="budget-table-wrapper">
                        <table class="budget-table" id="budgetTable">
                            <thead>
                                <tr>
                                    <th>Category</th>
                                    <th>Planned (₹)</th>
                                    <th>Actual (₹)</th>
                                    <th>Difference (₹)</th>
                                    <th>Notes</th>
                                </tr>
                            </thead>
                            <tbody id="budgetTableBody">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Annual Planner Page -->
            <div class="page" id="annual-page">
                <div class="page-header">
                    <h2>Annual Events Planner</h2>
                    <div class="header-actions">
                        <button class="btn btn-success" id="addEvent">Add Event</button>
                        <button class="btn btn-primary" id="saveAnnual">Save</button>
                    </div>
                </div>

                <div class="annual-container">
                    <div class="annual-table-wrapper">
                        <table class="annual-table" id="annualTable">
                            <thead>
                                <tr>
                                    <th>Month</th>
                                    <th>Event</th>
                                    <th>Amount (₹)</th>
                                    <th>Paid</th>
                                    <th>Notes</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="annualTableBody">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Loan Tracker Page -->
            <div class="page" id="loans-page">
                <div class="page-header">
                    <h2>Loan Tracker</h2>
                    <div class="header-actions">
                        <button class="btn btn-success" id="addLoan">Add Loan</button>
                        <button class="btn btn-primary" id="saveLoans">Save</button>
                    </div>
                </div>

                <div class="loans-container">
                    <div class="loans-table-wrapper">
                        <table class="loans-table" id="loansTable">
                            <thead>
                                <tr>
                                    <th>Loan Name</th>
                                    <th>Total Loan (₹)</th>
                                    <th>Interest %</th>
                                    <th>EMI (₹)</th>
                                    <th>Current Balance (₹)</th>
                                    <th>Target Close Year</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="loansTableBody">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Compare Months Page -->
            <div class="page" id="compare-page">
                <div class="page-header">
                    <h2>Compare Months</h2>
                </div>

                <div class="compare-container">
                    <div class="compare-controls">
                        <div class="control-group">
                            <label>Month A:</label>
                            <select id="compareMonthA" class="month-select"></select>
                        </div>
                        <div class="control-group">
                            <label>Month B:</label>
                            <select id="compareMonthB" class="month-select"></select>
                        </div>
                        <button class="btn btn-primary" onclick="compareMonthsAction()">Compare</button>
                    </div>
                    <div id="compareResult"></div>
                </div>
            </div>

            <!-- Trends Page -->
            <div class="page" id="trends-page">
                <div class="page-header">
                    <h2>Expense Trends</h2>
                </div>

                <div class="trends-container">
                    <div class="trends-table-wrapper">
                        <table class="trends-table">
                            <thead>
                                <tr>
                                    <th>Month</th>
                                    <th>Total Expense</th>
                                    <th>Total EMI</th>
                                    <th>Total Savings</th>
                                    <th>Balance</th>
                                </tr>
                            </thead>
                            <tbody id="trendsTableBody">
                                <!-- Will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Overlay for mobile menu -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Custom Modal for Dialogs -->
    <div class="modal-overlay" id="customModal">
        <div class="modal-content">
            <h3 id="modalTitle">Confirm Action</h3>
            <div id="modalBody">
                <p id="modalMessage">Are you sure?</p>
                <input type="text" id="modalInput" class="modal-input" style="display:none;"
                    placeholder="Enter value...">
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="modalCancelBtn">Cancel</button>
                <button class="btn btn-primary" id="modalConfirmBtn">Confirm</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>
